__config__:
  type: mapping
  name: config_mapping_all

__import__:
  - people_config: source_config_people
  - places_config: source_config_places
  - vehicles_config: source_config_vehicles
  - graph_config: graph_schema_config_all

# Top level keys denote class instances.
Person1:
  # The __class__ special key specifies a class in the graph schema that current
  # class instance realizes.
  __class__: graph_config.Person

  # Normal YAML mappings denote mappings from class property to column.
  name: people_config.people.name
  age: people_config.people.age
  height: people_config.people.height
  driverLicense: people_config.people.driverLicense

  # The "livesAt" property maps to three columns "livesAtName",
  # "livesAtLongitude" and "livesAtLatitude of source "people" in imported
  # configuration "people_config"
  livesAt:
    __to__:
      - people_config.people.livesAtName
      - people_config.people.livesAtLongitude
      - people_config.people.livesAtLatitude
    __link__: Place # Links to "Place" class instance in current configuration.

  drives:
    __to__: people_config.people.drives
    __link: Vehicle

  isFriendOf:
    __to__: people_config.people.isFriendOf
    __link__: Person1

Person2:
  __class__: graph_config.Person
  name: people_config.enemies.name
  driverLicense: people_config.enemies.driverLicens
  isEnemyOf:
    __to__: people_config.enemies.isEnemyOf
    __link__: Person1

Place:
  __class__: graph_config.Place
  name: places_config.places.name
  longitude: places_config.places.longitude
  latitude: places_config.places.latitude
  type: places_config.places.type

Vehicle:
  __class__: graph_config.Vehicle
  registrationNumber: vehicles_config.vehicles.registrationNumber
  brand: vehicles_config.vehicles.brand
  model: vehicles_config.vehicles.model
